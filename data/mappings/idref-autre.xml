<?xml version="1.0" encoding="UTF-8"?>
<!--
    IdRef Autre (Other/Generic) mapping for Omeka S.
    Converts Unimarc XML from IdRef authority records to Omeka resource format.

    @see https://www.idref.fr
    @see http://documentation.abes.fr/aideidrefdeveloppeur/index.html
-->
<mapping>
    <info>
        <label>IdRef - Autre</label>
        <from>xml</from>
        <to>omeka</to>
        <querier>xpath</querier>
    </info>

    <maps>
        <!-- dcterms:title - Title from 900$a (data path "e" in old format) -->
        <map>
            <from xpath="/record/datafield[@tag='900']/subfield[@code='a']"/>
            <to field="dcterms:title"/>
        </map>

        <!-- dcterms:alternative - Alternative title from 200$a (data path "c" in old format) -->
        <map>
            <from xpath="/record/datafield[@tag='200']/subfield[@code='a']"/>
            <to field="dcterms:alternative"/>
        </map>

        <!-- bibo:identifier - IdRef URI from controlfield 003 (data path "b" in old format) -->
        <map>
            <from xpath="/record/controlfield[@tag='003']"/>
            <to field="bibo:identifier" datatype="uri"/>
        </map>

        <!-- dcterms:language - Language from 101$a with LOC vocabulary URI -->
        <map>
            <from xpath="/record/datafield[@tag='101']/subfield[@code='a'][1]"/>
            <to field="dcterms:language" datatype="valuesuggest:lc:iso6392"/>
            <mod pattern="http://id.loc.gov/vocabulary/iso639-2/{{ value }}"/>
        </map>
    </maps>
</mapping>
